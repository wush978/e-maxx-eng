<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<!--?title Finding the equation of a line for a segment -->
<h1 id="finding-the-equation-of-a-line-for-a-segment">Finding the equation of a line for a segment</h1>
<p>The task is: given the coordinates of the ends of a segment, construct a line passing through it.</p>
<p>We assume that the segment is non-degenerate, i.e. has a length greater than zero (otherwise, of course, infinitely many different lines pass through it).</p>
<h3 id="two-dimensional-case">Two-dimensional case</h3>
<p>Let the given segment be <span class="math inline"><em>P</em><em>Q</em></span> i.e. the known coordinates of its ends <span class="math inline"><em>P</em><sub><em>x</em></sub>, <em>P</em><sub><em>y</em></sub>, <em>Q</em><sub><em>x</em></sub>, <em>Q</em><sub><em>y</em></sub></span> .</p>
<p>It is necessary to construct <strong>the equation of a line in the plane</strong> passing through this segment, i.e. find the coefficients <span class="math inline"><em>A</em>, <em>B</em>, <em>C</em></span> in the equation of a line:</p>
<p><br /><span class="math display"><em>A</em><em>x</em> + <em>B</em><em>y</em> + <em>C</em> = 0.</span><br /></p>
<p>Note that for the required triples <span class="math inline">(<em>A</em>, <em>B</em>, <em>C</em>)</span> there are <strong>infinitely many</strong> solutions which describe the given segment: you can multiply all three coefficients by an arbitrary non-zero number and get the same straight line. Therefore, our task is to find one of these triples.</p>
<p>It is easy to verify (by substitution of these expressions and the coordinates of the points <span class="math inline"><em>P</em></span> and <span class="math inline"><em>Q</em></span> into the equation of a straight line) that the following set of coefficients fits:</p>
<p><br /><span class="math display"><em>A</em> = <em>P</em><sub><em>y</em></sub> − <em>Q</em><sub><em>y</em></sub>,</span><br /> <br /><span class="math display"><em>B</em> = <em>Q</em><sub><em>x</em></sub> − <em>P</em><sub><em>x</em></sub>,</span><br /> <br /><span class="math display"><em>C</em> = −<em>A</em><em>P</em><sub><em>x</em></sub> − <em>B</em><em>P</em><sub><em>y</em></sub>.</span><br /></p>
<h3 id="integer-case">Integer case</h3>
<p>An important advantage of this method of constructing a straight line is that if the coordinates of the ends were integer, then the coefficients obtained will also be <strong>integer</strong> . In some cases, this allows one to perform geometric operations without resorting to real numbers at all.</p>
<p>However, there is a small drawback: for the same straight line different triples of coefficients can be obtained. To avoid this, but do not go away from the integer coefficients, you can apply the following technique, often called <strong>rationing</strong>. Find the <a href="./algebra/euclid-algorithm.html">greatest common divisor</a> of numbers <span class="math inline">|<em>A</em>|,|<em>B</em>|,|<em>C</em>|</span> , we divide all three coefficients by it, and then we make the normalization of the sign: if <span class="math inline"><em>A</em> &lt; 0</span> or <span class="math inline"><em>A</em> = 0, <em>B</em> &lt; 0</span> then multiply all three coefficients by <span class="math inline">−1</span> . As a result, we will come to the conclusion that for identical straight lines, identical triples of coefficients will be obtained, which makes it easy to check straight lines for equality.</p>
<h3 id="real-case">Real case</h3>
<p>When working with real numbers, you should always be aware of errors.</p>
<p>The coefficients <span class="math inline"><em>A</em></span> and <span class="math inline"><em>B</em></span> will have the order of the original coordinates, the coefficient <span class="math inline"><em>C</em></span> is of the order of the square of them. This may already be quite large numbers, and, for example, when we <a href="./geometry/lines-intersection.html">intersect straight lines</a>, they will become even larger, which can lead to large rounding errors already when the coordinates of the end points are of order <span class="math inline">10<sup>3</sup></span>.</p>
<p>Therefore, when working with real numbers, it is desirable to produce the so-called <strong>normalization</strong>, this is straightforward: namely, to make the coefficients such that <span class="math inline"><em>A</em><sup>2</sup> + <em>B</em><sup>2</sup> = 1</span> . To do this, calculate the number <span class="math inline"><em>Z</em></span> :</p>
<p><br /><span class="math display">$$Z = \sqrt{A ^ 2 + B ^ 2},$$</span><br /></p>
<p>and divide all three coefficients <span class="math inline"><em>A</em>, <em>B</em>, <em>C</em></span> by it.</p>
<p>Thus, the order of the coefficients <span class="math inline"><em>A</em></span> and <span class="math inline"><em>B</em></span> will not depend on the order of the input coordinates, and the coefficient <span class="math inline"><em>C</em></span> will be of the same order as the input coordinates. In practice, this leads to a significant improvement in the accuracy of calculations.</p>
<p>Finally, we mention the <strong>comparison</strong> of straight lines - in fact, after such a normalization, for the same straight line, only two triples of coefficients can be obtained: up to multiplication by <span class="math inline">−1</span>. Accordingly, if we make an additional normalization taking into account the sign (if <span class="math inline"><em>A</em> &lt; −<em>ε</em></span> or <span class="math inline">|<em>A</em>|&lt;<em>ε</em></span>, <span class="math inline"><em>B</em> &lt; −<em>ε</em></span> then multiply by <span class="math inline">−1</span> ), the resulting coefficients will be unique.</p>
<h3 id="three-dimensional-and-multidimensional-case">Three-dimensional and multidimensional case</h3>
<p>Already in the three-dimensional case there is <strong>no simple equation</strong> describing a straight line (it can be defined as the intersection of two planes, that is, a system of two equations, but this is an inconvenient method).</p>
<p>Consequently, in the three-dimensional and multidimensional cases we must use the <strong>parametric method of defining a straight line</strong> , i.e. as a point <span class="math inline"><em>p</em></span> and a vector <span class="math inline"><em>v</em></span> :</p>
<p><br /><span class="math display"><em>p</em> + <em>v</em><em>t</em>,    <em>t</em> ∈ ℝ.</span><br /></p>
<p>Those. a straight line is all points that can be obtained from a point <span class="math inline"><em>p</em></span> adding a vector <span class="math inline"><em>v</em></span> with an arbitrary coefficient.</p>
<p>The <strong>construction</strong> of a straight line in a parametric form along the coordinates of the ends of a segment is trivial, we just take one end of the segment for the point <span class="math inline"><em>p</em></span>, and the vector from the first to the second end — for the vector <span class="math inline"><em>v</em></span>.</p>
</body>
</html>
